{"meta": "updated_view_visualization_commands", "version": "2025-10-21", "notes": "Resilient, non-blocking variants with view/templating/time-slice controls.", "fields": ["method", "category", "importance", "kind", "summary", "params_example", "result_example", "notes"]}
{"method": "set_visual_override", "category": "Views/Graphics", "importance": "high", "kind": "write", "summary": "Element-level color/transparency overrides with safe view resolution and template fallback.", "params_example": {"elementIds": [277831,277832], "r": 0, "g": 200, "b": 255, "transparency": 20, "autoWorkingView": true, "detachViewTemplate": false, "batchSize": 800, "maxMillisPerTx": 3000, "startIndex": 0, "refreshView": true}, "result_example": {"ok": true, "viewId": 312, "count": 2, "templateApplied": false, "completed": true, "nextIndex": null, "batchSize": 800, "elapsedMs": 25}, "notes": "Omit viewId to use ActiveGraphicalView. Avoid view templates via detachViewTemplate or autoWorkingView."}
{"method": "clear_visual_override", "category": "Views/Graphics", "importance": "high", "kind": "write", "summary": "Clear element overrides in a view (batched).", "params_example": {"elementIds": [277831,277832,277833], "autoWorkingView": true, "detachViewTemplate": false, "batchSize": 800, "maxMillisPerTx": 3000, "startIndex": 0, "refreshView": true}, "result_example": {"ok": true, "viewId": 312, "count": 3, "completed": true, "nextIndex": null, "batchSize": 800, "elapsedMs": 15}}
{"method": "set_category_override", "category": "Views/Graphics", "importance": "normal", "kind": "write", "summary": "Category-level override with template-safe fallback and time slicing.", "params_example": {"categoryIds": [-2000011], "color": {"r": 255, "g": 50, "b": 0}, "applyFill": true, "transparency": 30, "autoWorkingView": true, "detachViewTemplate": false, "batchSize": 200, "maxMillisPerTx": 3000, "startIndex": 0, "refreshView": true}, "result_example": {"ok": true, "viewId": 312, "overridden": 1, "skipped": 0, "completed": true, "nextIndex": null, "batchSize": 200, "elapsedMs": 20}}
{"method": "apply_conditional_coloring", "category": "Views/Graphics", "importance": "high", "kind": "write", "summary": "Color elements by parameter ranges; supports detach/working view and time slicing.", "params_example": {"categoryIds": [-2000011], "param": {"parameterId": -1004005}, "units": "mm", "rules": [{"lte": 5000, "color": {"r": 255, "g": 0, "b": 0}, "transparency": 20, "applyFill": true}, {"lte": 20000, "color": {"r": 0, "g": 180, "b": 0}, "transparency": 10, "applyFill": true}], "autoWorkingView": true, "detachViewTemplate": false, "batchSize": 800, "maxMillisPerTx": 3000, "startIndex": 0, "refreshView": true}, "result_example": {"ok": true, "viewId": 312, "updated": 4, "skippedCount": 0, "completed": true, "nextIndex": null, "batchSize": 800, "elapsedMs": 18}}
{"method": "apply_quick_color_scheme", "category": "Views/Graphics", "importance": "normal", "kind": "write", "summary": "Build/apply a color fill scheme with duplicate-and-detach fallback for templated views.", "params_example": {"categoryId": -2000160, "mode": "sequential", "palette": "YlOrRd", "bins": 7, "createLegend": true, "legendOrigin": {"x": 0.0, "y": 0.0, "z": 0.0}, "autoWorkingView": true, "detachViewTemplate": false}, "result_example": {"ok": true, "viewId": 312, "schemeId": 60123, "legendId": 70001, "note": null}}
{"method": "create_spatial_volume_overlay", "category": "Views/Graphics", "importance": "normal", "kind": "write", "summary": "Extrude Room/Space boundary to DirectShape and apply view overrides; batched/time-sliced.", "params_example": {"elementIds": [604, 702], "target": "room", "heightMm": 2600, "color": {"r": 0, "g": 120, "b": 215}, "transparency": 40, "batchSize": 200, "maxMillisPerTx": 3000, "startIndex": 0, "refreshView": true}, "result_example": {"ok": true, "viewId": 312, "created": [{"hostId": 604, "directShapeId": 900001}], "skipped": [], "errors": [], "completed": false, "nextIndex": 1, "batchSize": 200}, "notes": "Resume with startIndex=nextIndex until completed=true."}
{"method": "hide_elements_in_view", "category": "Views/Graphics", "importance": "normal", "kind": "write", "summary": "UI-like per-element hide with batching and template-aware guard.", "params_example": {"elementIds": [277831, 277832], "detachViewTemplate": false, "batchSize": 800, "maxMillisPerTx": 3000, "startIndex": 0, "refreshView": true}, "result_example": {"ok": true, "viewId": 312, "hiddenCount": 2, "skipped": [], "errors": [], "completed": true, "nextIndex": null, "batchSize": 800, "elapsedMs": 12}}
